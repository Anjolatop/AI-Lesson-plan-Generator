{% extends "base.html" %}

{% block title %}Dashboard - AI Lesson Plan Generator{% endblock %}

{% block content %}
<div class="card">
    <div class="card-title">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1 class="handwritten">
                <i class="fas fa-home"></i> Welcome, {{ current_user.username }}!
            </h1>
            <a href="{{ url_for('create_lesson') }}" class="btn btn-primary">
                <i class="fas fa-plus"></i> Create New Lesson
            </a>
        </div>
    </div>
    
    <div style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
        <div class="sketch-border" style="flex: 1; min-width: 200px; text-align: center;">
            <i class="fas fa-book" style="font-size: 2rem; color: var(--secondary-color);"></i>
            <h3 class="handwritten">{{ lesson_plans|length }}</h3>
            <p>Total Lesson Plans</p>
        </div>
        
        <div class="sketch-border" style="flex: 1; min-width: 200px; text-align: center;">
            <i class="fas fa-calendar" style="font-size: 2rem; color: var(--accent-color);"></i>
            <h3 class="handwritten">{{ lesson_plans|length }}</h3>
            <p>This Month</p>
        </div>
        
        <div class="sketch-border" style="flex: 1; min-width: 200px; text-align: center;">
            <i class="fas fa-star" style="font-size: 2rem; color: var(--success-color);"></i>
            <h3 class="handwritten">100%</h3>
            <p>Success Rate</p>
        </div>
    </div>
</div>

{% if lesson_plans %}
    <div class="card">
        <h2 class="card-title handwritten">
            <i class="fas fa-list"></i> Your Lesson Plans
        </h2>
        
        <div class="grid grid-2">
            {% for lesson in lesson_plans %}
            <div class="lesson-card">
                <h3>{{ lesson.title }}</h3>
                <div class="lesson-meta">
                    <span><i class="fas fa-graduation-cap"></i> {{ lesson.grade }}</span>
                    <span><i class="fas fa-book-open"></i> {{ lesson.subject }}</span>
                    <span><i class="fas fa-calendar-alt"></i> {{ lesson.created_at.strftime('%b %d, %Y') }}</span>
                </div>
                <p style="color: #666; margin-bottom: 1rem;">
                    <strong>Topics:</strong> {{ lesson.topics[:100] }}{% if lesson.topics|length > 100 %}...{% endif %}
                </p>
                <div class="lesson-actions">
                    <a href="{{ url_for('view_lesson', lesson_id=lesson.id) }}" class="btn btn-primary">
                        <i class="fas fa-eye"></i> View
                    </a>
                    <a href="{{ url_for('edit_lesson', lesson_id=lesson.id) }}" class="btn btn-secondary">
                        <i class="fas fa-edit"></i> Edit
                    </a>
                    <form method="POST" action="{{ url_for('delete_lesson', lesson_id=lesson.id) }}" style="display: inline;">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this lesson plan?')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
{% else %}
    <div class="card text-center">
        <i class="fas fa-book-open" style="font-size: 4rem; color: var(--border-color); margin-bottom: 1rem;"></i>
        <h2 class="handwritten">No Lesson Plans Yet</h2>
        <p style="color: #666; margin-bottom: 2rem;">
            Start creating your first lesson plan and see the magic happen!
        </p>
        <a href="{{ url_for('create_lesson') }}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Create Your First Lesson
        </a>
    </div>
{% endif %}

<div class="card">
    <h2 class="card-title handwritten">
        <i class="fas fa-lightbulb"></i> Quick Tips
    </h2>
    <div class="grid grid-3">
        <div class="sketch-border">
            <i class="fas fa-pencil-alt" style="font-size: 1.5rem; color: var(--secondary-color); margin-bottom: 0.5rem;"></i>
            <h4 class="handwritten">Be Specific</h4>
            <p>Provide detailed topics and objectives for better lesson plans.</p>
        </div>
        
        <div class="sketch-border">
            <i class="fas fa-target" style="font-size: 1.5rem; color: var(--accent-color); margin-bottom: 0.5rem;"></i>
            <h4 class="handwritten">Align with Exams</h4>
            <p>Select relevant exams to ensure your content meets standards.</p>
        </div>
        
        <div class="sketch-border">
            <i class="fas fa-print" style="font-size: 1.5rem; color: var(--success-color); margin-bottom: 0.5rem;"></i>
            <h4 class="handwritten">Print & Use</h4>
            <p>Print your lesson plans or save as PDF for classroom use.</p>
        </div>
    </div>
</div>
{% endblock %} 